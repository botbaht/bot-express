<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Skill</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Skill</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Skill<span class="signature">(config)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="Skill"><span class="type-signature"></span>new Skill<span class="signature">(config)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Class to implement skill.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Object which contains skill specific configurations.</td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>required_parameter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#skill_parameter_container">Skill#skill_parameter_container</a></span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Object to list required parameters for the skill.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>optional_parameter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#skill_parameter_container">Skill#skill_parameter_container</a></span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Object to list optional parameters for the skill.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clear_context_on_finish</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">Flag to flush context information on skill finishes. Set true to flush.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="begin"><span class="type-signature">(async) </span>begin<span class="signature">(bot, event, context)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function which is triggerd at first.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line10">line 10</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="finish"><span class="type-signature">(async) </span>finish<span class="signature">(bot, event, context)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function which is triggerd when all the required parameters are collected.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line20">line 20</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    
    <h4 class="name" id="condition"><span class="type-signature">(async) </span>condition<span class="signature">(bot, event, context)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    Function to check if the parameter should be collected.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line49">line 49</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    - True to collect the parameter. False to skip.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="message"><span class="type-signature">(async) </span>message<span class="signature">(bot, event, context)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    Function to generate message to confirm the value of teh parameter.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    You have to return message object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="parser_function"><span class="type-signature">(async) </span>parser_function<span class="signature">(value, bot, event, context)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function which is applied to the message from user to validate the value. If validation succeeds, return any type of value you like to set as confirmed parameter. If validation fails, throw error without changing error name.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">Data to parse. In case of text message, its text will be set in string. In case of postback event, data payload will be set in string. In other cases, message object will be set as it is.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    

    
</dl>


















            
                
<h4 class="name" id="parser_object">parser_object</h4>




<div class="description">
    The object of built-in parser configuratin.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Type of built-in parser. Supported value is dialogflow, email, list, number and string.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>policy</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Policy configuration depending on the each parser implementation.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                

    

    
    <h4 class="name" id="reaction"><span class="type-signature">(async) </span>reaction<span class="signature">(error, value, bot, event, context)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function which is triggered when parser finshed parsing. You can implement custom behavior on collecting parameter  including async action.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">Flag which indicates if parser accepted the value. When accepted, true is set.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">*</span>


            
            </td>

            

            

            <td class="description last">Parsed value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bot.html">Bot</a></span>


            
            </td>

            

            

            <td class="description last">Toolkit which can be used to access Messenger API, queuing messeage, collecting arbitrary parameter and son on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Event object which triggers this flow.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#context">context</a></span>


            
            </td>

            

            

            <td class="description last">Context information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>


















            
                
<h4 class="name" id="skill_parameter">skill_parameter</h4>




<div class="description">
    Object which defines how this parameter should be collected, parsed, and reacted.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="Skill.html#message">Skill#message</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Message Object to ask for users the value of this parameter. As for message format, you can use either LINE or Facebook Messenger. In addition, you can also set function to generate message dynamically.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>list</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">Flag to make this parameter list. Set true to make the parameter list in newest first order. You can also specify object to control behavior of list.
                <h6>Properties</h6>

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>order</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    new
                
                </td>
            

            <td class="description last">Order of the list. "new" for newest first. "old" for oldest first.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>condition</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#condition">Skill#condition</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Function to check if this parameter should be collected. Return true to collect and false to skip.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#parser_function">Skill#parser_function</a></span>
|

<span class="param-type">String</span>
|

<span class="param-type"><a href="Skill.html#parser_object">Skill#parser_object</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Function to parse the message from user. Function, string and object can be provided. In case of function, it is used as it is. In case of string, you can specify the type of built-in parser. In case of object, you can specify parser_object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reaction</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#reaction">Skill#reaction</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">Function to react to the message from user. Reaction runs right after paser returns.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sub_skill</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">List of sub skills. If user intends these skills in the middle of the conversation, we switch context to new intent and get back once finished.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sub_parameter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#skill_parameter_container">Skill#skill_parameter_container</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">You can set nested parameter container. When all the parameters defined under sub_parameter are set, aggregated object will be set to parent parameter.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="skill_parameter_container">skill_parameter_container</h4>




<div class="description">
    Object which contains one skill parameter.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>*</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Skill.html#skill_parameter">Skill#skill_parameter</a></span>


            
            </td>

            

            

            <td class="description last">Skill parameter object.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="typedef_skill.js.html">typedef/skill.js</a>, <a href="typedef_skill.js.html#line43">line 43</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-bot-express.html">bot-express</a></li></ul><h3>Classes</h3><ul><li><a href="Bot.html">Bot</a></li><li><a href="Skill.html">Skill</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon May 20 2019 14:24:10 GMT+0900 (GMT+09:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>